[build]
command = "npm run build"
publish = "dist" # if you're using Vite
# or "build" if youâ€™re using Create React App
# publish = "build"

[dev]
command = "npm start"
port = 3000

# Redirect all frontend routes (React Router support)
[[redirects]]
from = "/*"
to = "/index.html"
status = 200

# Proxy API requests to your backend on Koyeb
[[redirects]]
from = "/api/*"
to = "https://formsync.koyeb.app/:splat"
status = 200
force = true

# Optional: security headers for production
[[headers]]
for = "/*"
[headers.values]
X-Frame-Options = "DENY"
X-Content-Type-Options = "nosniff"
Referrer-Policy = "no-referrer-when-downgrade"
Strict-Transport-Security = "max-age=31536000; includeSubDomains; preload"
